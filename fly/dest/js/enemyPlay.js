"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),Enemyplay=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.ele=null,n.speed=0,n.hp=0,n.score=0,n.type=e,n}return _inherits(t,Base),_createClass(t,[{key:"init",value:function(){switch(this.ele=document.createElement("div"),gameScene.ele.appendChild(this.ele),gameScene.arrEnemyPlay.push(this),this.type){case this.enemy_type_small:this.ele.className="small_emeny",this.speed=this.enemy_speed_small,this.hp=this.enemy_hp_small,this.score=this.enemy_score_small;break;case this.enemy_type_middle:this.ele.className="middle_emeny",this.speed=this.enemy_speed_middle,this.hp=this.enemy_hp_middle,this.score=this.enemy_score_middle;break;case this.enemy_type_big:this.ele.className="big_emeny",this.speed=this.enemy_speed_big,this.hp=this.enemy_hp_big,this.score=this.enemy_score_big}this.ele.style.left=parseInt(Math.random()*(gameScene.ele.offsetWidth-this.ele.offsetWidth))+"px",this.ele.style.top=-this.ele.offsetHeight+"px",this.move()}},{key:"move",value:function(){var e=this,t=this;this.moveTimer=setInterval(function(){t.ele.offsetTop>gameScene.ele.offsetHeight&&(clearInterval(e.moveTimer),gameScene.ele.removeChild(t.ele),gameScene.arrEnemyPlay.splice(gameScene.arrEnemyPlay.indexOf(t),1)),t.ele.style.top=t.ele.offsetTop+t.speed+"px"},150)}},{key:"hurt",value:function(){this.hp--;var e=this;if(this.hp<=0)if(clearInterval(e.moveTimer),"small_emeny"==this.ele.className)var t=0,n=setInterval(function(){++t>=4?(clearInterval(n),gameScene.ele.removeChild(e.ele),gameScene.arrEnemyPlay.splice(gameScene.arrEnemyPlay.indexOf(e),1),gameScene.score+=parseInt(e.score)):e.ele.style.background="url(images/plane1_die"+t+".png) no-repeat"},100);else if("middle_emeny"==this.ele.className)var l=0,s=setInterval(function(){++l>=5?(clearInterval(s),gameScene.ele.removeChild(e.ele),gameScene.arrEnemyPlay.splice(gameScene.arrEnemyPlay.indexOf(e),1),gameScene.score+=parseInt(e.score)):e.ele.style.background="url(images/plane2_die"+l+".png) no-repeat"},150);else if("big_emeny"==this.ele.className)var a=0,r=setInterval(function(){++a>=7?(clearInterval(r),gameScene.ele.removeChild(e.ele),gameScene.arrEnemyPlay.splice(gameScene.arrEnemyPlay.indexOf(e),1),gameScene.score+=parseInt(e.score)):e.ele.style.background="url(images/plane3_die"+a+".png) no-repeat"},200)}}]),t}();Enemyplay.prototype.enemy_type_small=1,Enemyplay.prototype.enemy_type_middle=2,Enemyplay.prototype.enemy_type_big=3,Enemyplay.prototype.enemy_speed_small=15,Enemyplay.prototype.enemy_speed_middle=10,Enemyplay.prototype.enemy_speed_big=6,Enemyplay.prototype.enemy_hp_small=1,Enemyplay.prototype.enemy_hp_middle=5,Enemyplay.prototype.enemy_hp_big=10,Enemyplay.prototype.enemy_score_small=5,Enemyplay.prototype.enemy_score_middle=10,Enemyplay.prototype.enemy_score_big=20;